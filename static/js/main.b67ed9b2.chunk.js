(this["webpackJsonpproject-demo"]=this["webpackJsonpproject-demo"]||[]).push([[0],{19:function(e,t,a){},20:function(e,t,a){},23:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a(1),s=a(11),c=a.n(s),r=(a(19),a(2)),l=a(3),i=a(5),h=a(4),d=a(25),b=(a(20),a(6)),u=function(e){Object(i.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).onChangeKeySearch=function(e){var t=e.target.name,a=e.target.value;n.setState(Object(b.a)({},t,a))},n.onHandleSearch=function(){n.props.onHandleSearch(n.state.keywordSearch)},n.state={keywordSearch:""},n}return Object(l.a)(a,[{key:"render",value:function(){var e=this.state.keywordSearch;return Object(n.jsx)("div",{className:"col-xs-6 col-sm-6 col-md-6 col-lg-6",children:Object(n.jsxs)("div",{className:"input-group",children:[Object(n.jsx)("input",{type:"text",className:"form-control",placeholder:"Nh\u1eadp t\u1eeb kh\xf3a...",name:"keywordSearch",value:e,onChange:this.onChangeKeySearch}),Object(n.jsx)("span",{className:"input-group-btn",children:Object(n.jsxs)("button",{className:"btn btn-primary btn-custom",type:"button",onClick:this.onHandleSearch,children:[Object(n.jsx)("span",{className:"fa fa-search mr-5"}),"T\xecm"]})})]})})}}]),a}(o.Component),j=a(8),m=a.n(j),p=a(12),S=function(e){Object(i.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).onClickSort=function(){var e=Object(p.a)(m.a.mark((function e(t,a){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.setState({sort:{by:t,value:a}});case 2:n.props.onSortBy(n.state.sort);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),n.state={sort:{by:"",value:0}},n}return Object(l.a)(a,[{key:"render",value:function(){var e=this,t=this.state.sort;return Object(n.jsx)("div",{className:"col-xs-6 col-sm-6 col-md-6 col-lg-6",children:Object(n.jsxs)("div",{className:"dropdown",children:[Object(n.jsxs)("button",{className:"btn btn-primary dropdown-toggle btn-custom",type:"button",id:"dropdownMenu1","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"true",children:["S\u1eafp X\u1ebfp ",Object(n.jsx)("span",{className:"fa fa-caret-square-o-down"})]}),Object(n.jsxs)("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenu1",children:[Object(n.jsx)("li",{onClick:function(){return e.onClickSort("name",1)},children:Object(n.jsx)("a",{role:"button",className:"name"===t.by&&1===t.value?"sort-selected":"",children:Object(n.jsx)("span",{className:"fa fa-sort-alpha-asc pr-5",children:"T\xean A-Z"})})}),Object(n.jsx)("li",{onClick:function(){return e.onClickSort("name",-1)},children:Object(n.jsx)("a",{role:"button",className:"name"===t.by&&-1===t.value?"sort-selected":"",children:Object(n.jsx)("span",{className:"fa fa-sort-alpha-desc pr-5",children:"T\xean Z-A"})})}),Object(n.jsx)("li",{role:"separator",className:"divider"}),Object(n.jsx)("li",{onClick:function(){return e.onClickSort("status",1)},children:Object(n.jsx)("a",{role:"button",className:"status"===t.by&&1===t.value?"sort-selected":"",children:"C\xf2n H\xe0ng"})}),Object(n.jsx)("li",{onClick:function(){return e.onClickSort("status",-1)},children:Object(n.jsx)("a",{role:"button",className:"status"===t.by&&-1===t.value?"sort-selected":"",children:"Sold out"})}),Object(n.jsx)("li",{})]})]})})}}]),a}(o.Component),O=function(e){Object(i.a)(a,e);var t=Object(h.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(n.jsxs)("div",{className:"row mt-15",children:[Object(n.jsx)(u,{onHandleSearch:this.props.onHandleSearch}),Object(n.jsx)(S,{onSortBy:this.props.onSortBy})]})}}]),a}(o.Component),x=a(9),f=function(e){Object(i.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).onUpdateStatusBook=function(){e.props.onUpdateStatusBook(e.props.book.id)},e.onDeleteBook=function(){e.props.onDeleteBook(e.props.book.id)},e.onUpdateBook=function(){e.props.onUpdateBook(e.props.book.id)},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props,t=e.book,a=e.index;return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:a+1}),Object(n.jsx)("td",{children:t.tenSach}),Object(n.jsx)("td",{children:t.maSach}),Object(n.jsx)("td",{children:x(t.ngayXB).format("DD/MM/YYYY")}),Object(n.jsx)("td",{className:"text-center",children:Object(n.jsx)("span",{className:0===t.trangThaiSach?"label label-success":"label label-danger",onClick:this.onUpdateStatusBook,children:0===t.trangThaiSach?"Full":"Sold out"})}),Object(n.jsxs)("td",{className:"text-center",children:[Object(n.jsxs)("button",{type:"button",className:"btn btn-warning",onClick:this.onUpdateBook,children:[Object(n.jsx)("span",{className:"fa fa-pencil mr-5"}),"S\u1eeda"]}),"\xa0",Object(n.jsxs)("button",{type:"button",className:"btn btn-danger",onClick:this.onDeleteBook,children:[Object(n.jsx)("span",{className:"fa fa-trash mr-5"}),"X\xf3a"]})]})]})}}]),a}(o.Component),k=function(e){Object(i.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).onHandleChange=function(e){var t=e.target.name,a=e.target.value;n.props.onHandleFilter("filterTenSach"===t?a:n.state.filterTenSach,"filterMaSach"===t?a:n.state.filterMaSach,"filterStatusSach"===t?a:n.state.filterStatusSach),n.setState(Object(b.a)({},t,a))},n.state={filterTenSach:"",filterMaSach:"",filterStatusSach:-1},n}return Object(l.a)(a,[{key:"render",value:function(){var e=this,t=this.props.books,a=this.state,o=a.filterTenSach,s=a.filterMaSach,c=a.filterStatusSach,r=t.map((function(t,a){return Object(n.jsx)(f,{index:a,book:t,onUpdateStatusBook:e.props.onUpdateStatusBook,onDeleteBook:e.props.onDeleteBook,onUpdateBook:e.props.onUpdateBook},t.id)}));return Object(n.jsx)("div",{className:"col-xs-12 col-sm-12 col-md-12 col-lg-12",children:Object(n.jsxs)("table",{className:"table table-bordered table-hover",children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{className:"text-center",children:"STT"}),Object(n.jsx)("th",{className:"text-center",children:"T\xean s\xe1ch"}),Object(n.jsx)("th",{className:"text-center",children:"M\xe3 s\xe1ch"}),Object(n.jsx)("th",{className:"text-center",children:"Ng\xe0y XB"}),Object(n.jsx)("th",{className:"text-center",children:"Tr\u1ea1ng th\xe1i s\xe1ch"}),Object(n.jsx)("th",{className:"text-center",children:"H\xe0nh \u0111\u1ed9ng"})]})}),Object(n.jsxs)("tbody",{children:[Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{}),Object(n.jsx)("td",{children:Object(n.jsx)("input",{type:"text",className:"form-control",name:"filterTenSach",value:o,onChange:this.onHandleChange})}),Object(n.jsx)("td",{children:Object(n.jsx)("input",{type:"text",className:"form-control",name:"filterMaSach",value:s,onChange:this.onHandleChange})}),Object(n.jsx)("td",{}),Object(n.jsx)("td",{children:Object(n.jsxs)("select",{className:"form-control",name:"filterStatusSach",value:c,onChange:this.onHandleChange,children:[Object(n.jsx)("option",{value:-1,children:"T\u1ea5t C\u1ea3"}),Object(n.jsx)("option",{value:0,children:"Full"}),Object(n.jsx)("option",{value:1,children:"Sold out"})]})}),Object(n.jsx)("td",{})]}),r]})]})})}}]),a}(o.Component),g=a(9),v=function(e){Object(i.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).onRemoveFormAdd=function(){n.props.onRemoveFormAdd()},n.onSubmitForm=function(e){e.preventDefault(),n.props.onSubmitForm(n.state),n.onClearDataForm(),n.onRemoveFormAdd()},n.handleChangeFormAdd=function(e){var t=e.target.name,a=e.target.value;"trangThaiSach"===t&&(a="Full"===e.target.value?0:1),n.setState(Object(b.a)({},t,a))},n.onClearDataForm=function(){n.setState({maSach:"",tenSach:"",tenTG:"",ngayXB:"",trangThaiSach:0})},n.componentDidMount=function(){null!==n.props.book&&n.setState({id:n.props.book.id,maSach:n.props.book.maSach,tenSach:n.props.book.tenSach,tenTG:n.props.book.tenTG,ngayXB:g(n.props.book.ngayXB,"DD/MM/YYYY"),trangThaiSach:n.props.book.trangThaiSach})},n.state={id:"",maSach:"",tenSach:"",tenTG:"",ngayXB:"",trangThaiSach:0},n}return Object(l.a)(a,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){null!==e&&null!==e.book?this.setState({id:e.book.id,maSach:e.book.maSach,tenSach:e.book.tenSach,tenTG:e.book.tenTG,ngayXB:g(e.book.ngayXB,"DD/MM/YYYY"),trangThaiSach:e.book.trangThaiSach}):e&&!e.book&&this.setState({id:"",maSach:"",tenSach:"",tenTG:"",ngayXB:"",trangThaiSach:0})}},{key:"render",value:function(){var e=this.state.id;return Object(n.jsxs)("div",{className:"panel panel-warning",children:[Object(n.jsxs)("div",{className:"panel-heading",children:[Object(n.jsx)("h3",{className:"panel-title",children:""!==e?"C\u1eadp nh\u1eadt s\xe1ch":"Th\xeam S\xe1ch"}),Object(n.jsx)("span",{className:"fa fa-times-circle",onClick:this.onRemoveFormAdd})]}),Object(n.jsx)("div",{className:"panel-body",children:Object(n.jsxs)("form",{onSubmit:this.onSubmitForm,children:[Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:"M\xe3 S\xe1ch :"}),Object(n.jsx)("input",{type:"text",className:"form-control",name:"maSach",value:this.state.maSach,onChange:this.handleChangeFormAdd})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:"T\xean S\xe1ch :"}),Object(n.jsx)("input",{type:"text",className:"form-control",name:"tenSach",value:this.state.tenSach,onChange:this.handleChangeFormAdd})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:"T\xean T\xe1c Gi\u1ea3 :"}),Object(n.jsx)("input",{type:"text",className:"form-control",name:"tenTG",value:this.state.tenTG,onChange:this.handleChangeFormAdd})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:"Ng\xe0y XB :"}),Object(n.jsx)("input",{type:"date",className:"form-control",name:"ngayXB",value:g(this.state.ngayXB).format("DD/MM/YYYY"),onChange:this.handleChangeFormAdd})]}),Object(n.jsx)("label",{children:"Tr\u1ea1ng Th\xe1i S\xe1ch:"}),Object(n.jsxs)("select",{className:"form-control",required:"required",name:"trangThaiSach",value:this.state.trangThaiSach,onChange:this.handleChangeFormAdd,children:[Object(n.jsx)("option",{value:0,children:"Full"}),Object(n.jsx)("option",{value:1,children:"Sold out"})]}),Object(n.jsx)("br",{}),Object(n.jsxs)("div",{className:"text-center",children:[Object(n.jsx)("button",{type:"submit",className:"btn btn-warning",children:""!==e?"L\u01b0u":"Th\xeam"}),"\xa0 \xa0",Object(n.jsx)("button",{type:"submit",className:"btn btn-danger",onClick:this.onClearDataForm,children:"H\u1ee7y B\u1ecf"})]})]})})]})}}]),a}(o.Component),y=a(13),N=function(e){Object(i.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){localStorage&&localStorage.getItem("books")&&n.setState({books:JSON.parse(localStorage.getItem("books"))})},n.onRemoveFormAdd=function(){n.setState({isDisplayFormAdd:!1})},n.onHandleShowForm=function(){!0===n.state.isDisplayFormAdd&&null!==n.state.bookEdit?n.setState({isDisplayFormAdd:!0,bookEdit:null}):n.setState({isDisplayFormAdd:!n.state.isDisplayFormAdd,bookEdit:null})},n.onSubmitForm=function(e){var t=n.state.books;""===e.id?(e.id=Object(d.a)(),t.push(e)):t[n.findIndex(e.id)]=e;n.setState({books:t,bookEdit:null}),localStorage.setItem("books",JSON.stringify(t))},n.onUpdateStatusBook=function(e){var t=n.state.books,a=Object(y.findIndex)(t,(function(t){return t.id===e}));-1!==a&&(0===t[a].trangThaiSach?t[a].trangThaiSach=1:t[a].trangThaiSach=0,n.setState({books:t}),localStorage.setItem("books",JSON.stringify(t)))},n.findIndex=function(e){var t=n.state.books,a=-1;return t.forEach((function(t,n){t.id===e&&(a=n)})),a},n.onDeleteBook=function(e){var t=n.state.books,a=n.findIndex(e);-1!==a&&(t.splice(a,1),n.setState({books:t}),localStorage.setItem("books",JSON.stringify(t))),n.onRemoveFormAdd()},n.isShowFormEditBook=function(){n.setState({isDisplayFormAdd:!0})},n.onUpdateBook=function(e){var t=n.state.books[n.findIndex(e)];n.setState({bookEdit:t}),n.isShowFormEditBook()},n.onHandleFilter=function(e,t,a){a=+a,n.setState({filter:{name:e.toLowerCase(),ma:t,status:a}})},n.onHandleSearch=function(e){n.setState({keywordSearch:e.toLowerCase()})},n.onSortBy=function(e){n.setState({sort:e})},n.state={books:[],isDisplayFormAdd:!1,bookEdit:null,filter:{name:"",ma:"",status:-1},keywordSearch:"",sort:{by:"",value:0}},n}return Object(l.a)(a,[{key:"render",value:function(){var e=this.state,t=e.books,a=e.isDisplayFormAdd,o=e.bookEdit,s=e.filter,c=e.keywordSearch,r=e.sort;s&&(s.name&&(t=t.filter((function(e){return-1!==e.tenSach.toLowerCase().indexOf(s.name)}))),s.ma&&(t=t.filter((function(e){return-1!==e.maSach.toLowerCase().indexOf(s.ma)}))),t=t.filter((function(e){return-1===s.status?e:e.trangThaiSach===(1===s.status?1:0)}))),c&&(t=t.filter((function(e){return-1!==e.tenSach.toLowerCase().indexOf(c)})));var l=a?Object(n.jsx)(v,{onRemoveFormAdd:this.onRemoveFormAdd,onSubmitForm:this.onSubmitForm,book:o}):"";return"name"===r.by?t.sort((function(e,t){return e.tenSach.toLowerCase()>t.tenSach.toLowerCase()?r.value:e.tenSach.toLowerCase()<t.tenSach.toLowerCase()?-r.value:0})):t.sort((function(e,t){return e.trangThaiSach>t.trangThaiSach?r.value:e.trangThaiSach<t.trangThaiSach?-r.value:0})),Object(n.jsx)("div",{className:"App",children:Object(n.jsxs)("div",{className:"container",children:[Object(n.jsxs)("div",{className:"text-center",children:[Object(n.jsx)("h1",{children:"Qu\u1ea3n L\xfd S\xe1ch"}),Object(n.jsx)("hr",{})]}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:a?"col-xs-3 col-sm-3 col-md-3 col-lg-3":"",children:l}),Object(n.jsxs)("div",{className:a?"col-xs-9 col-sm-9 col-md-9 col-lg-9":"col-xs-12 col-sm-12 col-md-12 col-lg-12",children:[Object(n.jsxs)("button",{type:"button",className:"btn btn-primary btn-custom",onClick:this.onHandleShowForm,children:[Object(n.jsx)("span",{className:"fa fa-plus pr-3"}),"Th\xeam S\xe1ch"]}),Object(n.jsx)(O,{onHandleSearch:this.onHandleSearch,onSortBy:this.onSortBy}),Object(n.jsx)("div",{className:"row mt-15",children:Object(n.jsx)(k,{books:t,onUpdateStatusBook:this.onUpdateStatusBook,onDeleteBook:this.onDeleteBook,onUpdateBook:this.onUpdateBook,onHandleFilter:this.onHandleFilter})})]})]})]})})}}]),a}(o.Component),C=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,26)).then((function(t){var a=t.getCLS,n=t.getFID,o=t.getFCP,s=t.getLCP,c=t.getTTFB;a(e),n(e),o(e),s(e),c(e)}))};c.a.render(Object(n.jsx)(N,{}),document.getElementById("root")),C()}},[[23,1,2]]]);
//# sourceMappingURL=main.b67ed9b2.chunk.js.map